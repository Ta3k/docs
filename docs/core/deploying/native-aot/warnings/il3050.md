---
title: "IL3050: Avoid calling members annotated with 'RequiresDynamicCodeAttribute' when publishing as native AOT"
description: "Members annotated with 'RequiresDynamicCodeAttribute' require code generation at runtime"
ms.date: 09/01/2022
ms.topic: reference
ms.author: michals
author: MichalStrehovsky
f1_keywords:
  - "IL3050"
---
# IL3050: Avoid calling members annotated with 'RequiresDynamicCodeAttribute' when publishing as native AOT

## Cause

When publishing an app as native AOT (for example, by setting the `PublishAot` property in a project to `true`), calling members annotated with the `RequiresDynamicCodeAttribute` attribute may result in exceptions at runtime. Members annotated with this attribute may require ability to dynamically create new code at runtime, and native AOT publishing model doesn't provide a way to generate native code at runtime.

## Rule description

<xref:System.Diagnostics.CodeAnalysis.RequiresDynamicCodeAttribute> indicates that the member references code that may require code generation at runtime.

## Example

```csharp
// AOT analysis warning IL3050: Program.<Main>$(String[]): Using member 'System.Type.MakeGenericType(Type[])'
// which has 'RequiresDynamicCodeAttribute' can break functionality when AOT compiling. The native code for
// this instantiation might not be available at runtime.
typeof(Generic<>).MakeGenericType(typeof(SomeStruct));

class Generic<T> { }

struct SomeStruct { }
```

## How to fix violations

Members annotated with the 'RequiresDynamicCodeAttribute' attribute have a message intended to give useful information to users who are publishing as native AOT. Consider adapting existing code to the attribute's message or removing the violating call.
